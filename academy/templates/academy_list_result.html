{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="container">
    <div class="section" style="margin-top: 50px; margin-bottom: 100px; text-align: center;"><h1>
        선택한 문제 유형 : {{ selected_year|join:',' }} 년도 {{ selected_grade|join:',' }} {{ selected_month|join:',' }}월
    </h1></div>

    <div class="table-container" style="margin-bottom: 250px; text-align: center;">
        {% if exams %}
            <table class="exam-table">
                <thead>
                    <tr>
                        <th>색인</th>
                        <th>유형</th>
                        <th>지문(문제)</th>
                        <th>문제수</th>
                        <th>보기</th>
                    </tr>
                </thead>
                <tbody>
                    {% for exam in exams %}
                    <tr>
                        <td>{{ forloop.counter }}</td>
                        <td>{{ exam.category }}
                        <td>{{ exam.question_list }}</td>
                        <td>{{ exam.question_counter }}</td>
                        <td>
                        <!--- exam.category 확인해서 문제별로 링크를 다르게 생성하기 -->
                        {% if 1 == 0 and exam.question_counter > 0 or exam.link %}  
                        <a href="{% url 'academy:exam_list_result' %}?year={{ exam.year|join:',' }}&grade={{ exam.grade|join:',' }}&month={{ exam.month|join:',' }}">PDF 문제</a>
                            {% else %}
                            -
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>

        {% else %}
        <div class="section" style="margin-bottom: 200px; text-align: center;"><h1>
                선택 문제 유형 년도: {{ selected_year }} 구분: {{ selected_category }} 학년: {{ selected_grade }} 
        </h1></div>
        <div class="section"  style="margin-bottom: 200px;">
            <p class="no-data-message" style="text-align: center;">조건에 맞는 테이블이 없습니다.</p>
        </div>   
        {% endif %}
    </div>
</div>
{% endblock %}